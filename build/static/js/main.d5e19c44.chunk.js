(this["webpackJsonpmovie-search"]=this["webpackJsonpmovie-search"]||[]).push([[0],{14:function(e,t,c){},15:function(e,t,c){},16:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(1),i=c(8),s=c.n(i),o=(c(14),c(7)),r=c(3),l=c(2),j=(c(15),function(e){return Object(n.jsx)("header",{className:"App-header",children:Object(n.jsx)("h2",{children:e.text})})}),d=function(e){var t=e.movie,c=e.NominateComponent,a=e.handleNominatedClick,i="N/A"===t.poster?"https://m.media-amazon.com/images/M/MV5BMTczNTI2ODUwOF5BMl5BanBnXkFtZTcwMTU0NTIzMw@@._V1_SX300.jpg":t.Poster;return Object(n.jsxs)("div",{className:"movie",children:[Object(n.jsx)("h2",{children:t.Title}),Object(n.jsx)("div",{children:Object(n.jsx)("img",{width:"200",height:"275",alt:"The movie titled: ".concat(t.Title),src:i})}),Object(n.jsxs)("p",{children:[" (",t.Year,") "]}),Object(n.jsx)("div",{onClick:function(){return a(t)},className:"overlay",children:Object(n.jsx)(c,{})})]})},h=function(e){var t=Object(a.useState)(""),c=Object(r.a)(t,2),i=c[0],s=c[1];return Object(n.jsxs)("form",{className:"search",children:[Object(n.jsx)("input",{value:i,onChange:function(e){s(e.target.value)},type:"text"}),Object(n.jsx)("input",{onClick:function(t){t.preventDefault(),e.search(i),s("")},type:"submit",value:"SEARCH"})]})},m=function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{children:" Nominate"}),Object(n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[Object(n.jsx)("defs",{}),Object(n.jsx)("path",{xmlns:"http://www.w3.org/2000/svg",fill:"red",d:"M12 24C5.383 24 0 18.617 0 12S5.383 0 12 0s12 5.383 12 12-5.383 12-12 12zm0-23C5.935 1 1 5.935 1 12s4.935 11 11 11 11-4.935 11-11S18.065 1 12 1z","data-original":"#000000"}),Object(n.jsxs)("g",{xmlns:"http://www.w3.org/2000/svg",children:[Object(n.jsx)("path",{fill:"red",d:"M7.5 19h-1c-.827 0-1.5-.673-1.5-1.5v-7.043c0-.827.673-1.5 1.5-1.5h1c.827 0 1.5.673 1.5 1.5V17.5c0 .827-.673 1.5-1.5 1.5zm-1-9.043c-.276 0-.5.224-.5.5V17.5c0 .276.224.5.5.5h1c.276 0 .5-.224.5-.5v-7.043c0-.276-.224-.5-.5-.5z","data-original":"#000000"}),Object(n.jsx)("path",{fill:"red",d:"M15.579 19h-1.036c-4.362 0-6.272-1.458-6.352-1.52-.218-.17-.256-.484-.085-.702s.485-.256.702-.085c.015.012 1.757 1.307 5.735 1.307h1.036c.864 0 1.595-.619 1.737-1.471l.66-3.957c.085-.512-.058-1.032-.394-1.428-.335-.396-.825-.623-1.343-.623h-3.391c-.185 0-.354-.102-.441-.264s-.078-.36.025-.513c.003-.005.481-.757.481-1.984C12.913 6.469 12.367 6 12 6c-.163 0-.348 0-.348 1.196 0 2.252-2.798 3.769-2.917 3.833-.242.129-.545.037-.676-.206-.13-.243-.038-.546.205-.676.024-.013 2.388-1.299 2.388-2.95 0-.769 0-2.197 1.348-2.197.662 0 1.913.577 1.913 2.761 0 .731-.139 1.33-.289 1.761h2.614c.813 0 1.581.356 2.106.976.525.621.75 1.437.617 2.238l-.66 3.957C18.08 18.03 16.935 19 15.579 19z","data-original":"#000000"})]})]})]})},u=function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{children:"Remove from nominated"}),Object(n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[Object(n.jsx)("defs",{}),Object(n.jsx)("path",{xmlns:"http://www.w3.org/2000/svg",fill:"#fff",d:"M21.5 24h-19C1.121 24 0 22.879 0 21.5v-19C0 1.121 1.121 0 2.5 0h19C22.879 0 24 1.121 24 2.5v19c0 1.379-1.121 2.5-2.5 2.5zM2.5 1C1.673 1 1 1.673 1 2.5v19c0 .827.673 1.5 1.5 1.5h19c.827 0 1.5-.673 1.5-1.5v-19c0-.827-.673-1.5-1.5-1.5z","data-original":"#000000"}),Object(n.jsx)("path",{xmlns:"http://www.w3.org/2000/svg",fill:"#fff",d:"M5 19.5c-.128 0-.256-.049-.354-.146-.195-.195-.195-.512 0-.707l14-14c.195-.195.512-.195.707 0s.195.512 0 .707l-14 14c-.097.097-.225.146-.353.146z","data-original":"#000000"}),Object(n.jsx)("path",{xmlns:"http://www.w3.org/2000/svg",fill:"#fff",d:"M19 19.5c-.128 0-.256-.049-.354-.146L4.771 5.479c-.195-.195-.195-.512 0-.707s.512-.195.707 0l13.875 13.875c.195.195.195.512 0 .707-.097.097-.225.146-.353.146z","data-original":"#000000"})]})]})},O=function(){return Object(n.jsx)("div",{className:"popup",children:Object(n.jsx)("h1",{children:"Thanks for nominating your Favourite Movies "})})},b={loading:!0,movies:[],errorMessage:null},v=function(e,t){switch(t.type){case"SEARCH_MOVIES_REQUEST":return Object(l.a)(Object(l.a)({},e),{},{loading:!0,errorMessage:null});case"SEARCH_MOVIES_SUCCESS":return Object(l.a)(Object(l.a)({},e),{},{loading:!1,movies:t.payload});case"SEARCH_MOVIES_FAILURE":return Object(l.a)(Object(l.a)({},e),{},{loading:!1,errorMessage:t.error});default:return e}},p=function(){var e=Object(a.useReducer)(v,b),t=Object(r.a)(e,2),c=t[0],i=t[1],s=Object(a.useState)([]),l=Object(r.a)(s,2),p=l[0],f=l[1],g=Object(a.useState)([]),x=Object(r.a)(g,2),w=x[0],S=x[1];Object(a.useEffect)((function(){var e=JSON.parse(localStorage.getItem("react-movie-app-nominated"));e&&f(e)}),[]);var C=function(e){localStorage.setItem("react-movie-app-nominated",JSON.stringify(e))},M=function(e){var t,c=(t=e,p.some((function(e){return t.Title===e.Title}))),n=[].concat(Object(o.a)(p),[e]);!0===c?function(e){var t={id:1,movie:e.Title,condition:!1},c=[].concat(Object(o.a)(w),[t]);S(c)}(e):!1===c&&(f(n),C(n))},E=function(e){var t=p.filter((function(t){return t.imdbID!==e.imdbID}));f(t),C(t)},N=c.movies,T=c.errorMessage,I=c.loading;return console.log(p.length),Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(j,{text:"Nominate Your Favourite Movies"}),Object(n.jsx)(h,{search:function(e){i({type:"SEARCH_MOVIES_REQUEST"}),fetch("https://www.omdbapi.com/?s=".concat(e,"&apikey=8ceee85f")).then((function(e){return e.json()})).then((function(e){"True"===e.Response?i({type:"SEARCH_MOVIES_SUCCESS",payload:e.Search}):i({type:"SEARCH_MOVIES_FAILURE",error:e.Error})}))}}),Object(n.jsx)("p",{className:"App-intro",children:"Search for the movie you wish to nominate"}),Object(n.jsx)("div",{className:"movies",children:I&&!T?Object(n.jsx)("span",{children:"loading... "}):T?Object(n.jsx)("div",{className:"errorMessage",children:T}):p.length>=5?Object(n.jsx)(O,{}):N.map((function(e,t){return Object(n.jsx)(d,{handleDisable:t,movie:e,NominateComponent:m,handleNominatedClick:M},"".concat(t,"-").concat(e.Title))}))}),Object(n.jsx)(j,{text:"Nominated"}),Object(n.jsx)("div",{className:"movies nominated",children:p.map((function(e,t){return Object(n.jsx)(d,{movie:e,handleNominatedClick:E,NominateComponent:u},"".concat(t,"-").concat(e.Title))}))})]})},f=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,17)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),i(e),s(e)}))};s.a.render(Object(n.jsx)(p,{}),document.getElementById("root")),f()}},[[16,1,2]]]);
//# sourceMappingURL=main.d5e19c44.chunk.js.map